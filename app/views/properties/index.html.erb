<div class="container mx-auto px-4 py-8">
  <div class="flex flex-col md:flex-row justify-between items-center mb-8">
    <h1 class="text-3xl font-bold text-gray-900">Find Your Perfect Home</h1>

    <% if policy(Property).create? %>
      <%= link_to 'Add New Property', new_property_path, class: "btn btn-primary mt-4 md:mt-0" %>
    <% end %>
  </div>

  <!-- Search Form -->
  <%= render 'search_form' %>

  <!-- Results Count -->
  <div class="flex justify-between items-center mb-6">
    <%= turbo_frame_tag "results_count" do %>
      <p class="text-gray-600">
         Found <span class="font-semibold"><%= @pagy.count %></span> properties
        <% if params[:search].present? %>
          for "<%= params[:search] %>"
        <% end %>
      </p>
    <% end %>
  </div>

  <!-- Properties Grid wrapped in Turbo Frame -->
  <%= turbo_frame_tag "properties" do %>
    <%= render 'properties_list', properties: @properties, pagy: @pagy %>
  <% end %>
</div>
